---
description: Rules for working with dialogue templates and generation
---

# Dialogue Template System

## Template Structure

### Source Template: [prompt2.txt](mdc:prompt2.txt)
Contains:
1. `<instruction>` section with `[TOPIC]` placeholder
2. `<exemple>` section showing the desired format

**Key Rules:**
- Use exactly `[TOPIC]` as the placeholder (case-sensitive)
- Maintain bilingual style (French + simple English phrases)
- Keep speaker format: `Speaker 1:` and `Speaker 2:`
- Lines should be concise (≤ 18 words)

### Generated Dialogue: [dialogue.txt](mdc:dialogue.txt)

**Required Format:**
```
Speaker 1: [French text with occasional English phrases]
Speaker 2: [French text with occasional English phrases]
Speaker 1: [continuing dialogue...]
Speaker 2: [continuing dialogue...]
```

**Critical Requirements:**
1. **Exactly 2 speakers** - No more, no less
2. **Alternating lines** - Speaker 1, then Speaker 2, then Speaker 1...
3. **Speaker labels** - Must be `Speaker 1:` and `Speaker 2:` (with space after colon)
4. **Bilingual** - Mostly French, with some English phrases naturally mixed
5. **UTF-8 encoding** - For French accents (é, è, à, ç, etc.)
6. **No stage directions** - Pure dialogue only
7. **Length** - Typically 10-20 exchanges

## Voice Mapping (in ai_studio_code.py)
- **Speaker 1** → "Zephyr" voice (warm, friendly)
- **Speaker 2** → "Puck" voice (playful, energetic)

## Common Themes
Examples of good topics:
- "la bonne ambiance de vivre à paris"
- "comment faire un gâteau au chocolat"
- "les APIs comme lego"
- "lego et ingrédient recette de cuisine"

## Usage Pattern
1. [create.sh](mdc:create.sh) prompts for topic
2. Script replaces `[TOPIC]` in [prompt2.txt](mdc:prompt2.txt)
3. Temporary file [prompt2.temp.txt](mdc:prompt2.temp.txt) is created
4. LLM generates dialogue → [dialogue.txt](mdc:dialogue.txt)
5. Both [ai_studio_code.py](mdc:ai_studio_code.py) and [generate_image.py](mdc:generate_image.py) read this file

## Quality Guidelines
✅ Good dialogue:
- Natural conversation flow
- Warm, welcoming tone
- Cultural references (Paris, French life)
- Light humor or playful moments
- Ends with gentle invitation ("On y va?")

❌ Avoid:
- Overly formal language
- Tourist clichés
- Long, complex sentences
- Monologues
- Stage directions or descriptions
